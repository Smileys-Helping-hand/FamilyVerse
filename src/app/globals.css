@tailwind base;
@tailwind components;
@tailwind utilities;

/* =================================================================== */
/* PWA Mobile Physics - Dynamic Viewport Height & Touch Optimization */
/* =================================================================== */
html, body {
  height: 100%;
  min-height: 100dvh;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

.min-h-screen {
  min-height: 100dvh !important;
}

.h-screen {
  height: 100dvh !important;
}

/* Remove 300ms tap delay on all interactive elements */
button, a, [role="button"], input, select, textarea {
  touch-action: manipulation;
}

/* Safe area insets for notched phones */
.safe-area-inset-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

@layer base {
  /* FamilyVerse - Cape Sunset Theme (Default - Dark Mode) */
  :root, [data-theme="family"] {
    --background: 270 30% 8%;
    --foreground: 0 0% 98%;
    --card: 270 25% 10%;
    --card-foreground: 0 0% 98%;
    --popover: 270 25% 10%;
    --popover-foreground: 0 0% 98%;
    --primary: 20 95% 55%;
    --primary-foreground: 0 0% 100%;
    --secondary: 280 85% 60%;
    --secondary-foreground: 0 0% 100%;
    --muted: 270 15% 15%;
    --muted-foreground: 270 10% 65%;
    --accent: 330 90% 60%;
    --accent-foreground: 0 0% 100%;
    --success: 142 76% 45%;
    --success-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 270 20% 20%;
    --input: 270 20% 15%;
    --ring: 20 95% 55%;
    --radius: 1rem;
    --chart-1: 20 95% 55%;
    --chart-2: 280 85% 60%;
    --chart-3: 330 90% 60%;
    --chart-4: 45 95% 58%;
    --chart-5: 190 80% 50%;
  }

  /* KIDS THEME - Playful & Energetic */
  [data-theme="kids"] {
    --background: 50 100% 95%;
    --foreground: 280 80% 30%;
    --card: 0 0% 100%;
    --card-foreground: 280 80% 30%;
    --popover: 0 0% 100%;
    --popover-foreground: 280 80% 30%;
    --primary: 330 85% 55%;
    --primary-foreground: 0 0% 100%;
    --secondary: 280 90% 60%;
    --secondary-foreground: 0 0% 100%;
    --muted: 50 100% 90%;
    --muted-foreground: 280 50% 40%;
    --accent: 170 80% 50%;
    --accent-foreground: 0 0% 100%;
    --success: 142 85% 50%;
    --success-foreground: 0 0% 100%;
    --destructive: 0 90% 65%;
    --destructive-foreground: 0 0% 100%;
    --border: 280 50% 85%;
    --input: 280 40% 90%;
    --ring: 330 85% 55%;
    --radius: 1.5rem;
    --chart-1: 330 85% 55%;
    --chart-2: 280 90% 60%;
    --chart-3: 45 100% 55%;
    --chart-4: 170 80% 50%;
    --chart-5: 210 95% 60%;
  }

  /* TEENS THEME - Cool & Dynamic */
  [data-theme="teens"] {
    --background: 260 30% 10%;
    --foreground: 50 100% 95%;
    --card: 260 25% 15%;
    --card-foreground: 50 100% 95%;
    --popover: 260 25% 15%;
    --popover-foreground: 50 100% 95%;
    --primary: 180 80% 55%;
    --primary-foreground: 260 30% 10%;
    --secondary: 290 85% 65%;
    --secondary-foreground: 260 30% 10%;
    --muted: 260 20% 20%;
    --muted-foreground: 50 30% 70%;
    --accent: 335 95% 60%;
    --accent-foreground: 0 0% 100%;
    --success: 142 80% 50%;
    --success-foreground: 0 0% 100%;
    --destructive: 0 85% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 260 20% 25%;
    --input: 260 20% 22%;
    --ring: 180 80% 55%;
    --radius: 0.75rem;
    --chart-1: 180 80% 55%;
    --chart-2: 290 85% 65%;
    --chart-3: 335 95% 60%;
    --chart-4: 50 100% 60%;
    --chart-5: 210 90% 60%;
  }

  /* ADULTS THEME - Sophisticated & Elegant */
  [data-theme="adults"] {
    --background: 220 20% 96%;
    --foreground: 220 30% 15%;
    --card: 0 0% 100%;
    --card-foreground: 220 30% 15%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 30% 15%;
    --primary: 220 70% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 200 25% 65%;
    --secondary-foreground: 220 30% 15%;
    --muted: 220 15% 92%;
    --muted-foreground: 220 20% 45%;
    --accent: 280 45% 55%;
    --accent-foreground: 0 0% 100%;
    --success: 142 60% 45%;
    --success-foreground: 0 0% 100%;
    --destructive: 0 70% 55%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 20% 85%;
    --input: 220 20% 88%;
    --ring: 220 70% 50%;
    --radius: 0.5rem;
    --chart-1: 220 70% 50%;
    --chart-2: 200 60% 55%;
    --chart-3: 280 45% 55%;
    --chart-4: 45 70% 60%;
    --chart-5: 142 60% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
  }
  
  body {
    @apply bg-background text-foreground;
  }

  /* Fun background patterns for each theme */
  [data-theme="family"] body {
    background: linear-gradient(135deg, hsl(190 100% 97%) 0%, hsl(280 40% 97%) 50%, hsl(335 40% 97%) 100%);
  }

  [data-theme="kids"] body {
    background: 
      radial-gradient(circle at 20% 30%, hsl(330 85% 90%) 0%, transparent 50%),
      radial-gradient(circle at 80% 70%, hsl(280 90% 85%) 0%, transparent 50%),
      radial-gradient(circle at 50% 50%, hsl(170 80% 85%) 0%, transparent 50%),
      hsl(50 100% 95%);
  }

  [data-theme="teens"] body {
    background: 
      linear-gradient(135deg, hsl(260 30% 10%) 0%, hsl(280 30% 15%) 100%),
      radial-gradient(circle at 20% 80%, hsl(180 80% 25%) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, hsl(290 85% 25%) 0%, transparent 50%);
  }

  [data-theme="adults"] body {
    background: linear-gradient(135deg, hsl(220 20% 96%) 0%, hsl(200 25% 94%) 100%);
  }
}

@layer utilities {
  /* Animated Gradients */
  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient 6s ease infinite;
  }

  @keyframes gradient {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Bounce animations for kids theme */
  .animate-bounce-slow {
    animation: bounce 3s infinite;
  }

  /* Pulse glow effect */
  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% { 
      box-shadow: 0 0 5px hsl(var(--primary) / 0.5),
                  0 0 10px hsl(var(--primary) / 0.3); 
    }
    50% { 
      box-shadow: 0 0 20px hsl(var(--primary) / 0.8),
                  0 0 30px hsl(var(--primary) / 0.6); 
    }
  }

  /* Float animation */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }

  /* Wiggle animation for kids */
  .animate-wiggle {
    animation: wiggle 1s ease-in-out infinite;
  }

  @keyframes wiggle {
    0%, 100% { transform: rotate(-3deg); }
    50% { transform: rotate(3deg); }
  }

  /* Rainbow text effect */
  .text-rainbow {
    background: linear-gradient(
      to right,
      hsl(330 85% 55%),
      hsl(280 90% 60%),
      hsl(210 95% 60%),
      hsl(170 80% 50%),
      hsl(45 100% 55%)
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-size: 200% auto;
    animation: gradient 3s linear infinite;
  }

  /* Card hover effects */
  .card-hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-hover:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 20px 40px -10px hsl(var(--primary) / 0.2);
  }

  /* Button animations */
  .btn-bounce:active {
    animation: button-bounce 0.3s ease;
  }

  @keyframes button-bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(0.95); }
  }
}

/* ========================================
   THERMAL PRINTER STYLES
   ======================================== */

/* Hide everything except printable content when printing */
@media print {
  body * {
    visibility: hidden;
  }

  #printable-label,
  #printable-label *,
  #printable-batch,
  #printable-batch * {
    visibility: visible;
  }

  #printable-label {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: auto;
  }

  #printable-batch {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
  }

  /* Critical for label printers - no margins! */
  @page {
    size: auto;
    margin: 0mm;
  }

  /* Ensure high contrast for thermal printing */
  * {
    color: black !important;
    background: white !important;
    text-shadow: none !important;
    box-shadow: none !important;
  }

  /* Remove borders and decorations */
  .label {
    border: none !important;
    page-break-after: always;
  }

  .label:last-child {
    page-break-after: auto;
  }
}

